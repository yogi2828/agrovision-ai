(()=>{var e={};e.id=536,e.ids=[536],e.modules={474:(e,r,t)=>{"use strict";t.d(r,{I0:()=>d,IP:()=>o,K1:()=>c,pi:()=>l,wj:()=>n});var s=t(75535),a=t(66639);let i=(0,s.aU)(a.yA),n=async(e,r)=>{try{if(!e)throw Error("User ID is required to save to history.");return(await (0,s.gS)((0,s.rJ)(i,`users/${e}/history`),{...r,userId:e,createdAt:s.Dc.now()})).id}catch(e){throw console.error("Error saving diagnosis to history:",e),Error("Could not save diagnosis.")}},o=async e=>{try{let r=(0,s.P)((0,s.rJ)(i,`users/${e}/history`),(0,s.My)("createdAt","desc")),t=await (0,s.GG)(r),a=[];return t.forEach(e=>{a.push({id:e.id,...e.data()})}),a}catch(r){console.error("Error getting diagnosis history: ",r);try{let r=(0,s.P)((0,s.rJ)(i,`users/${e}/history`)),t=(await (0,s.GG)(r)).docs.map(e=>({id:e.id,...e.data()}));return console.warn("Returned history without sorting. Please create a Firestore index for 'createdAt' descending."),t.sort((e,r)=>r.createdAt.toMillis()-e.createdAt.toMillis())}catch(e){throw console.error("Error getting diagnosis history on fallback: ",e),Error("Could not retrieve diagnosis history.")}}},l=async(e,r)=>{try{let t=(0,s.H9)(i,`users/${e}/history`,r),a=await (0,s.x7)(t);if(a.exists()){let e=a.data();return{id:a.id,...e}}return console.log("No such document!"),null}catch(e){throw console.error("Error getting document:",e),Error("Could not retrieve the diagnosis record.")}},d=async(e,r)=>{try{await (0,s.kd)((0,s.H9)(i,`users/${e}/history`,r))}catch(e){throw console.error("Error deleting diagnosis record:",e),Error("Could not delete diagnosis record.")}},c=async e=>{try{let r=(0,s.P)((0,s.rJ)(i,`users/${e}/history`)),t=await (0,s.GG)(r),a=(0,s.wP)(i);t.docs.forEach(e=>{a.delete(e.ref)}),await a.commit()}catch(e){throw console.error("Error deleting all user history:",e),Error("Could not delete all user history.")}}},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9196:(e,r,t)=>{Promise.resolve().then(t.bind(t,38998))},10279:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>h,pages:()=>c,routeModule:()=>u,tree:()=>d});var s=t(65239),a=t(48088),i=t(88170),n=t.n(i),o=t(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(r,l);let d={children:["",{children:["(app)",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,38998)),"D:\\agrovision-ai\\src\\app\\(app)\\dashboard\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,70718)),"D:\\agrovision-ai\\src\\app\\(app)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,94431)),"D:\\agrovision-ai\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["D:\\agrovision-ai\\src\\app\\(app)\\dashboard\\page.tsx"],h={require:t,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(app)/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},19895:(e,r,t)=>{Promise.resolve().then(t.bind(t,70718))},21820:e=>{"use strict";e.exports=require("os")},21844:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(82614).A)("CircleSlash",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"9",x2:"15",y1:"15",y2:"9",key:"1dfufj"}]])},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32878:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>q});var s=t(60687),a=t(29523),i=t(44493),n=t(30474),o=t(85814),l=t.n(o),d=t(82614);let c=(0,d.A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var h=t(21844),u=t(43210),x=t(49315);t(474);var p=t(85726),m=t(29867),f=t(96834);function g(){let{user:e}=(0,x.A)(),[r,t]=(0,u.useState)([]),[o,d]=(0,u.useState)(!0),{toast:g}=(0,m.dj)(),v=()=>(0,s.jsxs)("div",{className:"flex items-center gap-4 p-2",children:[(0,s.jsx)(p.E,{className:"h-16 w-16 rounded-md"}),(0,s.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,s.jsx)(p.E,{className:"h-4 w-3/4"}),(0,s.jsx)(p.E,{className:"h-4 w-1/2"})]}),(0,s.jsx)(p.E,{className:"h-9 w-20 rounded-md"})]});return(0,s.jsxs)(i.Zp,{children:[(0,s.jsx)(i.aR,{children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.ZB,{children:"Recent Diagnoses"}),(0,s.jsx)(i.BT,{children:"Your latest plant health scans."})]}),(0,s.jsx)(a.$,{variant:"ghost",asChild:!0,children:(0,s.jsxs)(l(),{href:"/history",children:["View all ",(0,s.jsx)(c,{className:"ml-2 w-4 h-4"})]})})]})}),(0,s.jsx)(i.Wu,{children:(0,s.jsx)("div",{className:"space-y-4",children:o?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v,{}),(0,s.jsx)(v,{}),(0,s.jsx)(v,{})]}):r.length>0?r.map(e=>{let r=`https://placehold.co/64x64.png?text=${encodeURIComponent(e.plantIdentification.commonName.split(" ").join("\\n"))}`;return(0,s.jsxs)(l(),{href:`/history/${e.id}`,className:"flex items-center gap-4 p-2 rounded-lg hover:bg-accent/50 cursor-pointer",children:[(0,s.jsx)(n.default,{src:r,alt:e.plantIdentification.commonName,width:64,height:64,className:"rounded-md object-cover"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"font-semibold",children:e.plantIdentification.commonName}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:e.createdAt.toDate().toLocaleDateString()})]}),(0,s.jsx)(f.E,{variant:"healthy"===e.diseaseName.toLowerCase()?"default":"destructive",children:e.diseaseName})]},e.id)}):(0,s.jsxs)("div",{className:"text-center py-8 flex flex-col items-center gap-2",children:[(0,s.jsx)(h.A,{className:"w-8 h-8 text-muted-foreground"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"No diagnoses found yet."}),(0,s.jsx)(a.$,{variant:"secondary",asChild:!0,children:(0,s.jsx)(l(),{href:"/diagnose",children:"Scan your first plant"})})]})})})]})}var v=t(29848);let y=(0,d.A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);function j(){let[e,r]=(0,u.useState)(""),[t,a]=(0,u.useState)("Loading...");return(0,s.jsx)(i.Zp,{className:"w-full md:w-auto",children:(0,s.jsxs)(i.Wu,{className:"p-4 flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(v.A,{className:"w-8 h-8 text-amber-500"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-2xl font-bold",children:"28\xb0C"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Sunny"})]})]}),(0,s.jsxs)("div",{className:"border-l pl-4",children:[(0,s.jsxs)("p",{className:"flex items-center gap-1 font-semibold",children:[(0,s.jsx)(y,{className:"w-4 h-4"})," ",t]}),e?(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:e}):(0,s.jsx)(p.E,{className:"h-4 w-24 mt-1"})]})]})})}var w=t(21068),b=t(44610),N=t(81292);let P=(0,d.A)("BookCheck",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"m9 9.5 2 2 4-4",key:"1dth82"}]]);var A=t(14283),C=t(97905);let E={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.2}}},k={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};function q(){return(0,s.jsxs)(C.P.div,{className:"space-y-12",variants:E,initial:"hidden",animate:"visible",children:[(0,s.jsxs)(C.P.section,{className:"text-center bg-card p-8 rounded-lg shadow-md",variants:k,children:[(0,s.jsx)("h1",{className:"font-headline text-3xl md:text-5xl font-bold tracking-tight",children:"Diagnose. Treat. Grow Better."}),(0,s.jsx)("p",{className:"text-muted-foreground mt-4 max-w-2xl mx-auto",children:"Welcome to AgroVision AI, your personal plant health assistant. Get instant diagnoses and expert treatment plans to keep your plants thriving."}),(0,s.jsxs)(C.P.div,{className:"mt-8 flex flex-col sm:flex-row gap-4 justify-center",initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:[(0,s.jsx)(C.P.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,s.jsx)(a.$,{asChild:!0,size:"lg",className:"bg-primary hover:bg-primary/90 text-primary-foreground shadow-md hover:shadow-lg transition-shadow w-full sm:w-auto",children:(0,s.jsxs)(l(),{href:"/diagnose",children:[(0,s.jsx)(w.A,{className:"mr-2 h-6 w-6"}),"Scan New Plant"]})})}),(0,s.jsx)(C.P.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:(0,s.jsx)(a.$,{asChild:!0,size:"lg",variant:"secondary",className:"w-full sm:w-auto",children:(0,s.jsxs)(l(),{href:"/history",children:[(0,s.jsx)(b.A,{className:"mr-2 h-6 w-6"}),"View History"]})})})]})]}),(0,s.jsx)(C.P.div,{variants:k,children:(0,s.jsx)(j,{})}),(0,s.jsxs)(C.P.section,{variants:k,children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-center mb-6 font-headline",children:"Features"}),(0,s.jsxs)(C.P.div,{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",variants:E,children:[(0,s.jsx)(C.P.div,{variants:k,whileHover:{y:-5,transition:{type:"spring",stiffness:300}},children:(0,s.jsxs)(i.Zp,{className:"text-center h-full hover:shadow-lg transition-shadow",children:[(0,s.jsxs)(i.aR,{children:[(0,s.jsx)(N.A,{className:"w-12 h-12 mx-auto text-primary"}),(0,s.jsx)(i.ZB,{children:"Plant Disease Detection"})]}),(0,s.jsx)(i.Wu,{children:(0,s.jsx)("p",{className:"text-muted-foreground",children:"Snap a photo to instantly identify plant diseases."})})]})}),(0,s.jsx)(C.P.div,{variants:k,whileHover:{y:-5,transition:{type:"spring",stiffness:300}},children:(0,s.jsxs)(i.Zp,{className:"text-center h-full hover:shadow-lg transition-shadow",children:[(0,s.jsxs)(i.aR,{children:[(0,s.jsx)(P,{className:"w-12 h-12 mx-auto text-primary"}),(0,s.jsx)(i.ZB,{children:"Organic & Chemical Treatments"})]}),(0,s.jsx)(i.Wu,{children:(0,s.jsx)("p",{className:"text-muted-foreground",children:"Get tailored treatment plans for your specific plant."})})]})}),(0,s.jsx)(C.P.div,{variants:k,whileHover:{y:-5,transition:{type:"spring",stiffness:300}},children:(0,s.jsxs)(i.Zp,{className:"text-center h-full hover:shadow-lg transition-shadow",children:[(0,s.jsxs)(i.aR,{children:[(0,s.jsx)(A.A,{className:"w-12 h-12 mx-auto text-primary"}),(0,s.jsx)(i.ZB,{children:"AI Chatbot"})]}),(0,s.jsx)(i.Wu,{children:(0,s.jsx)("p",{className:"text-muted-foreground",children:"Ask our AI assistant any agricultural question."})})]})}),(0,s.jsx)(C.P.div,{variants:k,whileHover:{y:-5,transition:{type:"spring",stiffness:300}},children:(0,s.jsxs)(i.Zp,{className:"text-center h-full hover:shadow-lg transition-shadow",children:[(0,s.jsxs)(i.aR,{children:[(0,s.jsx)(b.A,{className:"w-12 h-12 mx-auto text-primary"}),(0,s.jsx)(i.ZB,{children:"History Tracker"})]}),(0,s.jsx)(i.Wu,{children:(0,s.jsx)("p",{className:"text-muted-foreground",children:"Keep a record of all your past diagnoses."})})]})})]})]}),(0,s.jsx)(C.P.div,{variants:k,children:(0,s.jsx)(g,{})})]})}},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},37366:e=>{"use strict";e.exports=require("dns")},38998:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\agrovision-ai\\\\src\\\\app\\\\(app)\\\\dashboard\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\agrovision-ai\\src\\app\\(app)\\dashboard\\page.tsx","default")},55511:e=>{"use strict";e.exports=require("crypto")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},67760:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>w});var s=t(60687),a=t(85814),i=t.n(a),n=t(16189),o=t(4780),l=t(24026),d=t(21068),c=t(44610),h=t(14283),u=t(58595),x=t(97905);let p=[{href:"/dashboard",label:"Home",icon:l.A},{href:"/diagnose",label:"Scan",icon:d.A},{href:"/history",label:"History",icon:c.A},{href:"/chat",label:"Chat",icon:h.A},{href:"/profile",label:"Profile",icon:u.A}];function m(){let e=(0,n.usePathname)();return(0,s.jsx)(x.P.nav,{className:"fixed bottom-0 left-0 right-0 z-50 md:hidden bg-background/80 backdrop-blur-sm border-t",initial:{y:100},animate:{y:0},transition:{type:"spring",stiffness:300,damping:30},children:(0,s.jsx)("div",{className:"grid h-16 grid-cols-5",children:p.map(r=>{let t="/dashboard"===r.href?e===r.href:e.startsWith(r.href);return(0,s.jsxs)(i(),{href:r.href,className:"flex flex-col items-center justify-center gap-1 text-xs transition-colors text-muted-foreground hover:text-primary",children:[(0,s.jsx)(x.P.div,{whileHover:{scale:1.1},whileTap:{scale:.9},children:(0,s.jsx)(r.icon,{className:(0,o.cn)("w-6 h-6",t?"text-primary":"")})}),(0,s.jsx)("span",{className:(0,o.cn)(t?"text-primary font-semibold":""),children:r.label})]},r.href)})})})}var f=t(94556),g=t(49315);t(43210);var v=t(11516);let y=["/login","/signup"];function j({children:e}){let{user:r,loading:t}=(0,g.A)();(0,n.useRouter)();let a=(0,n.usePathname)();return!t&&(r||y.includes(a))?(0,s.jsx)(s.Fragment,{children:e}):(0,s.jsx)("div",{className:"flex h-screen w-full items-center justify-center",children:(0,s.jsx)(v.A,{className:"h-8 w-8 animate-spin"})})}function w({children:e}){return(0,s.jsx)(j,{children:(0,s.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,s.jsx)(f.A,{}),(0,s.jsx)(x.P.main,{className:"flex-1 p-4 pt-20 pb-24 md:p-6 md:pt-24 lg:p-8 lg:pt-28",initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},children:(0,s.jsx)("div",{className:"mx-auto max-w-7xl w-full",children:e})}),(0,s.jsx)(x.P.footer,{className:"border-t py-8",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:(0,s.jsxs)("div",{className:"container mx-auto px-4 text-center text-muted-foreground",children:[(0,s.jsxs)("div",{className:"flex justify-center gap-4 mb-4",children:[(0,s.jsx)(i(),{href:"/terms-of-use",className:"hover:text-primary text-sm",children:"Terms of Use"}),(0,s.jsx)(i(),{href:"/privacy-policy",className:"hover:text-primary text-sm",children:"Privacy Policy"})]}),(0,s.jsxs)("p",{className:"text-sm",children:["\xa9 ",new Date().getFullYear()," AgroVision AI. All rights reserved."]})]})}),(0,s.jsx)(m,{})]})})}},70718:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\agrovision-ai\\\\src\\\\app\\\\(app)\\\\layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\agrovision-ai\\src\\app\\(app)\\layout.tsx","default")},73039:(e,r,t)=>{Promise.resolve().then(t.bind(t,67760))},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},85726:(e,r,t)=>{"use strict";t.d(r,{E:()=>i});var s=t(60687),a=t(4780);function i({className:e,...r}){return(0,s.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-md bg-muted",e),...r})}},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},96044:(e,r,t)=>{Promise.resolve().then(t.bind(t,32878))},96834:(e,r,t)=>{"use strict";t.d(r,{E:()=>o});var s=t(60687);t(43210);var a=t(24224),i=t(4780);let n=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o({className:e,variant:r,...t}){return(0,s.jsx)("div",{className:(0,i.cn)(n({variant:r}),e),...t})}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[828,361,658,447,891,637,474,423,259],()=>t(10279));module.exports=s})();