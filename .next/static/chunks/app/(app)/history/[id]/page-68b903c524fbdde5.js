(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[530],{2964:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var n=s(5155),a=s(2115),i=s(5695),o=s(8437),r=s(8666),u=s(2270),c=s(172),l=s(285),d=s(1978);function m(){let{user:e,loading:t}=(0,o.A)(),s=(0,i.useParams)(),m=(0,i.useRouter)(),h=s.id,[f,p]=(0,a.useState)(null),[x,y]=(0,a.useState)(!0);if((0,a.useEffect)(()=>{if(!t){if(!e)return void m.push("/login");h?(0,r.pi)(e.uid,h).then(e=>{e?p(e):console.error("Record not found")}).catch(e=>{console.error(e)}).finally(()=>y(!1)):y(!1)}},[e,h,t,m]),x||t)return(0,n.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,n.jsx)(c.A,{className:"h-8 w-8 animate-spin text-primary"})});if(!f)return(0,n.jsxs)(d.P.div,{className:"text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[(0,n.jsx)("h2",{className:"text-xl font-semibold",children:"Record not found"}),(0,n.jsx)("p",{className:"text-muted-foreground",children:"This diagnosis record could not be found or you don't have permission to view it."}),(0,n.jsx)(l.$,{onClick:()=>m.push("/history"),className:"mt-4",children:"Back to History"})]});let v="https://placehold.co/600x400.png?text=".concat(encodeURIComponent(f.plantIdentification.commonName));return(0,n.jsx)(d.P.div,{className:"container mx-auto max-w-4xl",initial:{opacity:0},animate:{opacity:1},children:(0,n.jsx)(u.f,{result:f,image:v,onReset:()=>{m.push("/history")},onSave:()=>{},isHistoryView:!0})})}},4675:(e,t,s)=>{Promise.resolve().then(s.bind(s,2964))},5695:(e,t,s)=>{"use strict";var n=s(8999);s.o(n,"useParams")&&s.d(t,{useParams:function(){return n.useParams}}),s.o(n,"usePathname")&&s.d(t,{usePathname:function(){return n.usePathname}}),s.o(n,"useRouter")&&s.d(t,{useRouter:function(){return n.useRouter}})}},e=>{var t=t=>e(e.s=t);e.O(0,[644,992,277,648,427,874,870,366,934,61,95,441,684,358],()=>t(4675)),_N_E=e.O()}]);