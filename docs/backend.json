{
  "entities": {
    "User": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "User",
      "type": "object",
      "description": "Represents a user of the AgroVision AI application.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the user (matches Firebase Auth UID)."
        },
        "name": {
          "type": "string",
          "description": "User's full name."
        },
        "email": {
          "type": "string",
          "description": "User's email address.",
          "format": "email"
        },
        "language": {
          "type": "string",
          "description": "User's preferred language code (e.g., 'en-IN')."
        },
        "voiceEnabled": {
          "type": "boolean",
          "description": "Indicates whether voice input/output is enabled for the user."
        },
        "voiceSpeed": {
          "type": "number",
          "description": "The user's preferred speed for voice output (e.g., 1.0)."
        }
      },
      "required": ["id", "name", "email", "language", "voiceEnabled"]
    },
    "DiseaseRecord": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "DiseaseRecord",
      "type": "object",
      "description": "Represents a record of a plant disease detection.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the disease record."
        },
        "userId": {
          "type": "string",
          "description": "Reference to the User who created this record."
        },
        "plantName": {
          "type": "string",
          "description": "Name of the plant."
        },
        "diseaseName": {
          "type": "string",
          "description": "Name of the detected disease."
        },
        "symptoms": {
          "type": "string",
          "description": "Symptoms of the disease."
        },
        "causes": {
          "type": "string",
          "description": "Causes of the disease."
        },
        "treatment": {
          "type": "string",
          "description": "Recommended treatment for the disease."
        },
        "prevention": {
          "type": "string",
          "description": "Tips for preventing the disease."
        },
        "language": {
          "type": "string",
          "description": "The language the record was generated in."
        },
        "timestamp": {
          "type": "string",
          "description": "Timestamp of when the disease was detected.",
          "format": "date-time"
        }
      },
      "required": ["id", "userId", "plantName", "diseaseName", "treatment", "prevention", "language", "timestamp"]
    },
    "ChatRecord": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "ChatRecord",
      "type": "object",
      "description": "Represents a record of a chatbot conversation.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the chat record."
        },
        "userId": {
          "type": "string",
          "description": "Reference to the User who created this record."
        },
        "userMessage": {
          "type": "string",
          "description": "User's message in the conversation."
        },
        "aiResponse": {
          "type": "string",
          "description": "AI's response to the user's message."
        },
        "language": {
          "type": "string",
          "description": "Language used in the conversation."
        },
        "timestamp": {
          "type": "string",
          "description": "Timestamp of when the message was sent.",
          "format": "date-time"
        }
      },
      "required": ["id", "userId", "userMessage", "aiResponse", "language", "timestamp"]
    }
  },
  "auth": {
    "providers": [
      "google.com"
    ]
  },
  "firestore": {
    "/users/{userId}": {
      "schema": { "$ref": "#/entities/User" },
      "description": "Stores user profiles. Only the user can read/write their own profile."
    },
    "/users/{userId}/chatHistory/{messageId}": {
      "schema": { "$ref": "#/entities/ChatRecord" },
      "description": "Stores chat conversation records for each user."
    },
    "/users/{userId}/diseaseHistory/{recordId}": {
      "schema": { "$ref": "#/entities/DiseaseRecord" },
      "description": "Stores disease detection records for each user (text only)."
    }
  }
}
